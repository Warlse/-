### 公众号获取用户信息

#### 1.1  获取code值（只获取用户openid）

（参数：appid，redirect_uri）

``` js
https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx00652d6d8ce7ffc3&redirect_uri=http://rdc.china-gis.com/opmReport&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect
```

返回数据如下：

![img](file:///C:\Users\wurun\AppData\Local\Temp\ksohtml20292\wps1.jpg) 

 

#### 1.2  获取code值 (获取用户基本信息)

（参数：appid，redirect_uri）

``` js
https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx00652d6d8ce7ffc3&redirect_uri=http://rdc.china-gis.com/opmReport&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect
```

返回数据如下：

![img](file:///C:\Users\wurun\AppData\Local\Temp\ksohtml20292\wps2.jpg) 

 

#### 2. 通过code获取access_token和openid

​	(参数：appid，secret，code )

``` js
https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx00652d6d8ce7ffc3&secret=ada5cd4908def1dce918c8e27ae9fbe7&code=091L6vll2c8qx54bWlll2aoyNj1L6vlX&grant_type=authorization_code
```



返回数据如下：

![img](file:///C:\Users\wurun\AppData\Local\Temp\ksohtml20292\wps3.jpg) 

 

#### 3. 通过access_token和openid获取用户信息

​	(参数：access_token，openid )

``` js
https://api.weixin.qq.com/sns/userinfo?access_token=36_RK24Jc1LLk9PZpyuC3cXXkRvRA-8hjyCFpZvezmsOUFk7MwOA7pHZeixS0wfpEqsRzcwrkbpSCZjuq4Kn-MFGw&openid=okAM96F7NkB7XHuNa1ansU1CGs4k&lang=zh_CN
```



返回数据如下：

![img](file:///C:\Users\wurun\AppData\Local\Temp\ksohtml20292\wps4.jpg) 